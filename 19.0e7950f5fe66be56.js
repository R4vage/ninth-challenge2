"use strict";(self.webpackChunkninth_challenge=self.webpackChunkninth_challenge||[]).push([[19],{3019:(Vt,S,o)=>{o.r(S),o.d(S,{HomeModule:()=>Qt});var _=o(4859),B=o(5614),R=o(5471),D=o(246),J=o(5237),x=o(4144),k=o(5412),g=o(7392),f=o(3546),N=o(4385),c=o(6895),C=o(4006),t=o(4650);let Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[J.N,D.n],imports:[c.ez,C.u5,R.M,f.QW,g.Ps,k.Is,_.ot,N.LD,x.c]}),n})();var m=o(9549);let U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,g.Ps,m.lN,x.c]}),n})();var l=o(9653);const T=(0,l.PH)("[Categories Add] Add Categories",(0,l.Ky)()),V=(0,l.Lq)({categories:[]},(0,l.on)(T,(n,s)=>({...n,categories:s.categories})));var p=o(9521),d=o(3238);o(1281),o(3353),o(7579),o(6451),o(5698),o(2722),o(8675),o(2687),o(445),o(5017);const H=new t.OlP("mat-chips-default-options");let pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[d.rD,{provide:H,useValue:{separatorKeyCodes:[p.K5]}}],imports:[d.BQ]}),n})(),dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,l.Aw.forFeature("categories",V),pt,_.ot,g.Ps]}),n})();var E=o(2183);let Z=(()=>{class n{constructor(e){this.restService=e}getProducts(e,i,a){return this.restService.searchProducts(e,10,i,a)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(E.w))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const ut=(0,l.ZF)("categories"),gt=(0,l.P1)(ut,n=>n.categories);let mt=(()=>{class n{constructor(e){this.restService=e}getCategories(){return this.restService.getCategories()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(E.w))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _t(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeCurrent(a.currentPage-1))}),t.TgZ(1,"mat-icon"),t._uU(2,"arrow_back_ios"),t.qZA()()}}function ft(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.emitCategory(r))}),t._uU(1),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw();t.Q6J("color",(null==i.currentCategory?null:i.currentCategory.id)===e.id?"primary":"accent"),t.xp6(1),t.Oqu(e.name)}}function Ct(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeCurrent(a.currentPage+1))}),t.TgZ(1,"mat-icon"),t._uU(2,"arrow_forward_ios"),t.qZA()()}}let bt=(()=>{class n{constructor(e,i){this.restService=e,this.categoriesStore=i,this.categoryEmitter=new t.vpe,this.categories=[],this.currentCategories=[],this.currentPage=1}ngOnInit(){this.categoriesStore.pipe((0,l.Ys)(gt)).subscribe({next:e=>{this.categories=e,this.changeCurrent(1)}}),0===this.categories.length&&this.restService.getCategories().subscribe({next:e=>{this.categoriesStore.dispatch(T({categories:e.data}))}})}changeCurrent(e){this.currentPage=e,this.currentCategories=this.categories.slice(5*(e-1),5*e)}emitCategory(e){this.categoryEmitter.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(mt),t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-categories"]],inputs:{currentCategory:"currentCategory"},outputs:{categoryEmitter:"categoryEmitter"},decls:5,vars:3,consts:[[1,"container"],["mat-icon-button","","class","arrow",3,"click",4,"ngIf"],[1,"chip-container"],["mat-raised-button","","id","category.id",3,"color","click",4,"ngFor","ngForOf"],["mat-icon-button","",1,"arrow",3,"click"],["mat-raised-button","","id","category.id",3,"color","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,_t,3,0,"button",1),t.TgZ(2,"div",2),t.YNc(3,ft,2,2,"button",3),t.qZA(),t.YNc(4,Ct,3,0,"button",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",1!==i.currentPage),t.xp6(2),t.Q6J("ngForOf",i.currentCategories),t.xp6(1),t.Q6J("ngIf",6!==i.currentPage))},dependencies:[c.sg,c.O5,_.lW,g.Hw],styles:["[_nghost-%COMP%]{padding-inline:2em;padding-block:1em;display:flex;flex-direction:column;align-items:center;align-self:center;width:100%}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;align-items:center}.chip-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;flex-wrap:wrap;gap:.2em}.chip-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:2}.arrow[_ngcontent-%COMP%]{margin-inline:.5em}@media (min-width: 920px){.chip-container[_ngcontent-%COMP%]{flex-wrap:nowrap!important}}@media (min-width: 1025px){.container[_ngcontent-%COMP%]{width:80%}}"]}),n})();function vt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.MAs(4).value="",t.KtG(a.emitSearch(""))}),t._uU(1,"clear"),t.qZA()}}let yt=(()=>{class n{constructor(){this.searchEmitter=new t.vpe,this.searchValue=""}ngOnInit(){}emitSearch(e){this.searchEmitter.emit(e.trim())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search"]],inputs:{searchValue:"searchValue"},outputs:{searchEmitter:"searchEmitter"},decls:8,vars:2,consts:[["matInput","","autocomplete","off","name","search",3,"value","keyup.enter"],["search",""],["matPrefix","",3,"click"],["matSuffix","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","aria-label","Clear",3,"click"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"Search:"),t.qZA(),t.TgZ(3,"input",0,1),t.NdJ("keyup.enter",function(){t.CHM(a);const u=t.MAs(4);return t.KtG(i.emitSearch(u.value))}),t.qZA(),t.TgZ(5,"mat-icon",2),t.NdJ("click",function(){t.CHM(a);const u=t.MAs(4);return t.KtG(i.emitSearch(u.value))}),t._uU(6,"search"),t.qZA(),t.YNc(7,vt,2,0,"mat-icon",3),t.qZA()}2&e&&(t.xp6(3),t.Q6J("value",i.searchValue),t.xp6(4),t.Q6J("ngIf",i.searchValue))},dependencies:[c.O5,g.Hw,m.KE,m.hX,m.qo,m.R9,x.Nt],styles:["[_nghost-%COMP%]{align-self:center;width:80%;padding-inline:.5em;background-color:#fff;border-radius:6px;max-width:50em}mat-icon[_ngcontent-%COMP%]{cursor:pointer}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:.3em}mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}@media (min-width: 769px){[_nghost-%COMP%]{width:50%}}"]}),n})();var xt=o(9799),Mt=o(8184);function wt(n,s){if(1&n&&(t.TgZ(0,"mat-card-subtitle"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("Currently there are ",e.product.master.stock," items in stock")}}function It(n,s){1&n&&(t.TgZ(0,"mat-card-subtitle",7),t._uU(1,"There is no stock for this item"),t.qZA())}let Pt=(()=>{class n{constructor(e){this.dialog=e,this.likeShown=!1}ngOnInit(){}openDialog(e){this.dialog.open(xt.R,{data:e,scrollStrategy:new Mt.RZ})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-item"]],inputs:{product:"product",likeShown:"likeShown"},decls:24,vars:17,consts:[[1,"product",3,"click"],["mat-card-image","","onerror","this.src='assets/imgs/imageNotFound.png'",3,"src"],[1,"price"],[4,"ngIf"],["class","no-stock",4,"ngIf"],[1,"like"],[1,"dislike"],[1,"no-stock"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0),t.NdJ("click",function(){return i.openDialog(i.product)}),t.TgZ(1,"h2"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t._UZ(4,"img",1),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.ALo(7,"titlecase"),t.qZA(),t.TgZ(8,"mat-card-content"),t._uU(9),t.qZA(),t.TgZ(10,"mat-card-content",2),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.YNc(13,wt,2,1,"mat-card-subtitle",3),t.YNc(14,It,2,0,"mat-card-subtitle",4),t.TgZ(15,"div")(16,"mat-card-subtitle",5),t._uU(17),t.TgZ(18,"mat-icon"),t._uU(19,"thumb_up_alt"),t.qZA()(),t.TgZ(20,"mat-card-subtitle",6),t._uU(21),t.TgZ(22,"mat-icon"),t._uU(23,"thumb_down_alt"),t.qZA()()()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,9,i.product.name)),t.xp6(2),t.Q6J("src",null==i.product.image?null:i.product.image.url,t.LSH),t.xp6(2),t.hij("Category: ",t.lcZ(7,11,null==i.product.category?null:i.product.category.name),""),t.xp6(3),t.Oqu(i.product.description),t.xp6(2),t.Oqu(t.Dn7(12,13,i.product.master.price,"USD","symbol")),t.xp6(2),t.Q6J("ngIf",i.product.master.stock),t.xp6(1),t.Q6J("ngIf",!i.product.master.stock),t.xp6(3),t.Oqu(i.product.likes_up_count),t.xp6(4),t.Oqu(i.product.likes_down_count))},dependencies:[c.O5,f.a8,f.dn,f.$j,f.G2,g.Hw,c.rS,c.H9],styles:["[_nghost-%COMP%]{display:block;width:100%;padding:.1em}img[_ngcontent-%COMP%]{object-fit:contain;width:95%;max-height:20em;min-height:10em;align-self:center}mat-card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;max-height:45em;border-radius:4px;transition:all .2s ease-in-out;box-shadow:2px 2px 5px gray;overflow-x:hidden}mat-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:max-content;max-width:100%;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}mat-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{align-self:flex-end;display:flex;align-items:center;gap:1em}mat-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px}mat-card[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d2d2d2}.price[_ngcontent-%COMP%]{font-size:x-large;font-weight:600}.no-stock[_ngcontent-%COMP%]{color:#f08080}.like[_ngcontent-%COMP%]{color:green}.dislike[_ngcontent-%COMP%]{color:red;padding-top:4px}@media (min-width: 320px){[_nghost-%COMP%]{padding-inline:2em}}@media (min-width: 469px){[_nghost-%COMP%]{padding-inline:0;width:20em;margin:.1em}}@media (min-width: 850px){[_nghost-%COMP%]{width:20em}}"]}),n})();function St(n,s){1&n&&t._UZ(0,"app-item",1),2&n&&t.Q6J("product",s.$implicit)}let kt=(()=>{class n{constructor(){this.products=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-list"]],inputs:{products:"products"},decls:1,vars:1,consts:[[3,"product",4,"ngFor","ngForOf"],[3,"product"]],template:function(e,i){1&e&&t.YNc(0,St,1,1,"app-item",0),2&e&&t.Q6J("ngForOf",i.products)},dependencies:[c.sg,Pt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}@media (min-width: 469px){[_nghost-%COMP%]{flex-direction:row;flex-wrap:wrap;justify-content:center}}"]}),n})();function Tt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"p",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeCurrentPage(a.currentPage-1))}),t._uU(1," < "),t.qZA()}}function Ot(n,s){1&n&&(t.TgZ(0,"p",5),t._uU(1,"\u22ef"),t.qZA())}function At(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"p",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.changeCurrentPage(a))}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("ngClass",i.currentPage===e?"pages__current":"pages__page"),t.xp6(1),t.Oqu(e)}}function Ft(n,s){if(1&n&&(t.ynx(0),t.YNc(1,At,2,2,"p",6),t.BQk()),2&n){const e=s.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",e>i.currentPage-3&&e<i.currentPage+3)}}function Ht(n,s){1&n&&(t.TgZ(0,"p",5),t._uU(1,"\u22ef"),t.qZA())}function Et(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"p",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeCurrentPage(a.currentPage+1))}),t._uU(1," > "),t.qZA()}}let Zt=(()=>{class n{constructor(){this.currentPage=0,this.currentPageEmitter=new t.vpe,this.pagesArray=[]}set pages(e){for(let i=1;i<=e;i++)this.pagesArray.push(i)}changeCurrentPage(e){e!==this.currentPage&&this.currentPageEmitter.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pagination"]],inputs:{pages:"pages",currentPage:"currentPage"},outputs:{currentPageEmitter:"currentPageEmitter"},decls:6,vars:5,consts:[[1,"pages"],["class","pages__arrows",3,"click",4,"ngIf"],["class","pages__dots",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pages__arrows",3,"click"],[1,"pages__dots"],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Tt,2,0,"p",1),t.YNc(2,Ot,2,0,"p",2),t.YNc(3,Ft,2,1,"ng-container",3),t.YNc(4,Ht,2,0,"p",2),t.YNc(5,Et,2,0,"p",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.currentPage>1),t.xp6(1),t.Q6J("ngIf",i.currentPage>3),t.xp6(1),t.Q6J("ngForOf",i.pagesArray),t.xp6(1),t.Q6J("ngIf",i.currentPage<i.pagesArray.length-2),t.xp6(1),t.Q6J("ngIf",i.currentPage<i.pagesArray.length))},dependencies:[c.mk,c.sg,c.O5],styles:["[_nghost-%COMP%]{align-self:center}p[_ngcontent-%COMP%]{margin:0}.pages[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;overflow:hidden;width:-moz-fit-content;width:fit-content;align-self:center;border-radius:15px;text-align:center;vertical-align:center;background-color:#256d85;padding:0}.pages__arrows[_ngcontent-%COMP%]{background-color:#256d85;padding:.5em;color:#fff}.pages__dots[_ngcontent-%COMP%]{background-color:#256d85;cursor:default;padding:.4em;color:#fff}.pages__page[_ngcontent-%COMP%]{background-color:#00d3d7;padding-block:.5em;padding-inline:.7em;color:#0f0f0f}.pages__current[_ngcontent-%COMP%]{background-color:#2b4865;cursor:default;padding-block:.5em;padding-inline:.7em;color:#fff}.pages__arrows[_ngcontent-%COMP%], .pages__page[_ngcontent-%COMP%]{cursor:pointer}.pages__arrows[_ngcontent-%COMP%]:hover, .pages__page[_ngcontent-%COMP%]:hover{background-color:#001935;color:#fff;transform:scale(1.2)}.pages__current[_ngcontent-%COMP%]:hover{transform:unset!important}"]}),n})();function Lt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeCategory(null))}),t._uU(4,"Clear Filter"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.hij("Filtering by: ",e.currentCategory.name,"")}}function Bt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeSearch(""))}),t._uU(4,"Clear Filter"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.hij("Search value: ",e.currentSearch,"")}}function Rt(n,s){1&n&&(t.TgZ(0,"h3"),t._uU(1,"There are no results for this search"),t.qZA())}function Dt(n,s){1&n&&(t.TgZ(0,"h3"),t._uU(1,"There are no items in this category"),t.qZA())}function Jt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-pagination",10),t.NdJ("currentPageEmitter",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.changePage(a))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("currentPage",e.currentPage)("pages",e.totalPages)}}let Nt=(()=>{class n{constructor(e){this.restService=e,this.currentProducts=[],this.currentSearch="",this.currentCategory=null,this.currentPage=1}ngOnInit(){this.changeProducts(1,"","")}changeCategory(e){this.currentCategory=e,this.currentPage=1,this.changeProducts(1,this.currentSearch,this.currentCategory?.id||"")}changeSearch(e){this.currentSearch=e,this.currentPage=1,this.changeProducts(1,this.currentSearch,this.currentCategory?.id||"")}changeProducts(e,i,a){this.restService.getProducts(e,i,a).subscribe({next:r=>{this.currentProducts=r.data,this.totalPages=r.meta.last_page}})}changePage(e){this.currentPage=e,this.changeProducts(e,this.currentSearch,this.currentCategory?.id||"")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:8,vars:8,consts:[[3,"currentCategory","categoryEmitter"],[3,"searchValue","searchEmitter"],["class","current-category",4,"ngIf"],["class","current-search",4,"ngIf"],[4,"ngIf"],[3,"products"],[3,"currentPage","pages","currentPageEmitter",4,"ngIf"],[1,"current-category"],["mat-raised-button","","color","accent",3,"click"],[1,"current-search"],[3,"currentPage","pages","currentPageEmitter"]],template:function(e,i){1&e&&(t.TgZ(0,"app-categories",0),t.NdJ("categoryEmitter",function(r){return i.changeCategory(r)}),t.qZA(),t.TgZ(1,"app-search",1),t.NdJ("searchEmitter",function(r){return i.changeSearch(r)}),t.qZA(),t.YNc(2,Lt,5,1,"div",2),t.YNc(3,Bt,5,1,"div",3),t.YNc(4,Rt,2,0,"h3",4),t.YNc(5,Dt,2,0,"h3",4),t._UZ(6,"app-product-list",5),t.YNc(7,Jt,1,2,"app-pagination",6)),2&e&&(t.Q6J("currentCategory",i.currentCategory),t.xp6(1),t.Q6J("searchValue",i.currentSearch),t.xp6(1),t.Q6J("ngIf",i.currentCategory),t.xp6(1),t.Q6J("ngIf",i.currentSearch),t.xp6(1),t.Q6J("ngIf",0===i.totalPages&&i.currentSearch),t.xp6(1),t.Q6J("ngIf",0===i.totalPages&&!i.currentSearch),t.xp6(1),t.Q6J("products",i.currentProducts),t.xp6(1),t.Q6J("ngIf",i.totalPages>1))},dependencies:[c.O5,bt,yt,kt,Zt,_.lW],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-block:1em;gap:1em;padding-inline:1em}.current-category[_ngcontent-%COMP%], .current-search[_ngcontent-%COMP%]{display:flex;padding-left:.5em;padding-block:.05em;border-radius:4px;align-self:flex-start;align-items:center;gap:1em;background-color:#e1ceb5;box-shadow:2px 2px 5px #80808089}.current-category[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .current-search[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:medium;font-weight:500}"]}),n})();var L=o(1791);const Yt=[{path:"",component:Nt}];let Ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[L.Bz.forChild(Yt),L.Bz]}),n})(),Qt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Z],imports:[c.ez,Ut,dt,U,Y,B.u,_.ot]}),n})()}}]);